import{S as ee,i as le,s as te,ad as ne,c as N,m as q,o as p,t as z,l as H,G as E,e as pe,f as C,I as S,k as V,n as F,p as D,q as ye,V as ze,b as K,F as A,K as R,B as b,C as O,O as B,D as y,H as ie,J as se,N as oe,a2 as Ge,ai as Be,v as Ae,a4 as Ce,g as De,h as Ee,x as Ie}from"./index.84b6e782.js";import{g as Ne,a as qe}from"./Empty.svelte_svelte_type_style_lang.085940ab.js";import{B as He}from"./BlockLabel.765f314e.js";import{E as Le}from"./Empty.2cdb2d1a.js";import{n as U}from"./ModifyUpload.svelte_svelte_type_style_lang.e946db2d.js";import{M as Re}from"./ModifyUpload.2aef0bd3.js";/* empty css                                                    */import{I as ae}from"./Image.752d6456.js";function P(l,t,e){const n=l.slice();return n[31]=t[e][0],n[32]=t[e][1],n[34]=e,n}function Q(l,t,e){const n=l.slice();return n[31]=t[e],n[35]=t,n[34]=e,n}function W(l){let t,e;return t=new He({props:{show_label:l[0],Icon:ae,label:l[1]||"Gallery",disable:typeof l[3].container=="boolean"&&!l[3].container}}),{c(){N(t.$$.fragment)},m(n,i){q(t,n,i),e=!0},p(n,i){const r={};i[0]&1&&(r.show_label=n[0]),i[0]&2&&(r.label=n[1]||"Gallery"),i[0]&8&&(r.disable=typeof n[3].container=="boolean"&&!n[3].container),t.$set(r)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){H(t,n)}}}function Se(l){let t,e,n,i,r,c=l[4]!==null&&X(l),f=l[7],o=[];for(let s=0;s<f.length;s+=1)o[s]=x(P(l,f,s));return{c(){c&&c.c(),t=E(),e=A("div"),n=A("div");for(let s=0;s<o.length;s+=1)o[s].c();b(n,"class","grid-container svelte-4o059d"),b(n,"style",l[10]),B(n,"pt-6",l[0]),b(e,"class","grid-wrap svelte-4o059d"),ne(()=>l[26].call(e)),B(e,"fixed-height",!l[3].height||l[3].height=="auto")},m(s,_){c&&c.m(s,_),C(s,t,_),C(s,e,_),y(e,n);for(let m=0;m<o.length;m+=1)o[m].m(n,null);i=Be(e,l[26].bind(e)),r=!0},p(s,_){if(s[4]!==null?c?(c.p(s,_),_[0]&16&&p(c,1)):(c=X(s),c.c(),p(c,1),c.m(t.parentNode,t)):c&&(V(),z(c,1,1,()=>{c=null}),F()),_[0]&2192){f=s[7];let m;for(m=0;m<f.length;m+=1){const u=P(s,f,m);o[m]?o[m].p(u,_):(o[m]=x(u),o[m].c(),o[m].m(n,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=f.length}(!r||_[0]&1024)&&b(n,"style",s[10]),_[0]&1&&B(n,"pt-6",s[0]),_[0]&8&&B(e,"fixed-height",!s[3].height||s[3].height=="auto")},i(s){r||(p(c),r=!0)},o(s){z(c),r=!1},d(s){c&&c.d(s),s&&D(t),s&&D(e),oe(o,s),i()}}}function je(l){let t,e;return t=new Le({props:{size:"large",unpadded_box:!0,$$slots:{default:[Me]},$$scope:{ctx:l}}}),{c(){N(t.$$.fragment)},m(n,i){q(t,n,i),e=!0},p(n,i){const r={};i[1]&32&&(r.$$scope={dirty:i,ctx:n}),t.$set(r)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){H(t,n)}}}function X(l){let t,e,n,i,r,c,f,o,s,_,m,u,h;e=new Re({}),e.$on("clear",l[20]);let d=l[7][l[4]][1]&&Y(l),G=l[7],k=[];for(let a=0;a<G.length;a+=1)k[a]=Z(Q(l,G,a));return{c(){t=A("div"),N(e.$$.fragment),n=E(),i=A("img"),o=E(),d&&d.c(),s=E(),_=A("div");for(let a=0;a<k.length;a+=1)k[a].c();R(i.src,r=l[7][l[4]][0].data)||b(i,"src",r),b(i,"alt",c=l[7][l[4]][1]||""),b(i,"title",f=l[7][l[4]][1]||null),O(i,"height","calc(100% - "+(l[7][l[4]][1]?"80px":"60px")+")"),b(i,"class","svelte-4o059d"),B(i,"with-caption",!!l[7][l[4]][1]),b(_,"class","thumbnails scroll-hide svelte-4o059d"),b(t,"class","preview svelte-4o059d"),B(t,"fixed-height",l[3].height!=="auto")},m(a,v){C(a,t,v),q(e,t,null),y(t,n),y(t,i),y(t,o),d&&d.m(t,null),y(t,s),y(t,_);for(let w=0;w<k.length;w+=1)k[w].m(_,null);l[24](_),m=!0,u||(h=[S(i,"click",l[21]),S(t,"keydown",l[13])],u=!0)},p(a,v){if((!m||v[0]&144&&!R(i.src,r=a[7][a[4]][0].data))&&b(i,"src",r),(!m||v[0]&144&&c!==(c=a[7][a[4]][1]||""))&&b(i,"alt",c),(!m||v[0]&144&&f!==(f=a[7][a[4]][1]||null))&&b(i,"title",f),(!m||v[0]&144)&&O(i,"height","calc(100% - "+(a[7][a[4]][1]?"80px":"60px")+")"),v[0]&144&&B(i,"with-caption",!!a[7][a[4]][1]),a[7][a[4]][1]?d?d.p(a,v):(d=Y(a),d.c(),d.m(t,s)):d&&(d.d(1),d=null),v[0]&400){G=a[7];let w;for(w=0;w<G.length;w+=1){const I=Q(a,G,w);k[w]?k[w].p(I,v):(k[w]=Z(I),k[w].c(),k[w].m(_,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=G.length}v[0]&8&&B(t,"fixed-height",a[3].height!=="auto")},i(a){m||(p(e.$$.fragment,a),m=!0)},o(a){z(e.$$.fragment,a),m=!1},d(a){a&&D(t),H(e),d&&d.d(),oe(k,a),l[24](null),u=!1,Ge(h)}}}function Y(l){let t,e=l[7][l[4]][1]+"",n;return{c(){t=A("div"),n=ie(e),b(t,"class","caption svelte-4o059d")},m(i,r){C(i,t,r),y(t,n)},p(i,r){r[0]&144&&e!==(e=i[7][i[4]][1]+"")&&se(n,e)},d(i){i&&D(t)}}}function Z(l){let t,e,n,i,r,c,f=l[34],o,s;const _=()=>l[22](t,f),m=()=>l[22](null,f);function u(){return l[23](l[34])}return{c(){t=A("button"),e=A("img"),c=E(),R(e.src,n=l[31][0].data)||b(e,"src",n),b(e,"title",i=l[31][1]||null),b(e,"alt",r=l[31][1]||null),b(e,"class","svelte-4o059d"),b(t,"class","thumbnail-item thumbnail-small  svelte-4o059d"),B(t,"selected",l[4]===l[34])},m(h,d){C(h,t,d),y(t,e),y(t,c),_(),o||(s=S(t,"click",u),o=!0)},p(h,d){l=h,d[0]&128&&!R(e.src,n=l[31][0].data)&&b(e,"src",n),d[0]&128&&i!==(i=l[31][1]||null)&&b(e,"title",i),d[0]&128&&r!==(r=l[31][1]||null)&&b(e,"alt",r),f!==l[34]&&(m(),f=l[34],_()),d[0]&16&&B(t,"selected",l[4]===l[34])},d(h){h&&D(t),m(),o=!1,s()}}}function $(l){let t,e=l[32]+"",n;return{c(){t=A("div"),n=ie(e),b(t,"class","caption-label svelte-4o059d")},m(i,r){C(i,t,r),y(t,n)},p(i,r){r[0]&128&&e!==(e=i[32]+"")&&se(n,e)},d(i){i&&D(t)}}}function x(l){let t,e,n,i,r,c,f,o,s=l[32]&&$(l);function _(){return l[25](l[34])}return{c(){t=A("button"),e=A("img"),r=E(),s&&s.c(),c=E(),b(e,"alt",n=l[32]||""),R(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)||b(e,"src",i),b(e,"class","svelte-4o059d"),b(t,"class","thumbnail-item thumbnail-lg svelte-4o059d"),B(t,"selected",l[4]===l[34])},m(m,u){C(m,t,u),y(t,e),y(t,r),s&&s.m(t,null),y(t,c),f||(o=S(t,"click",_),f=!0)},p(m,u){l=m,u[0]&128&&n!==(n=l[32]||"")&&b(e,"alt",n),u[0]&128&&!R(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)&&b(e,"src",i),l[32]?s?s.p(l,u):(s=$(l),s.c(),s.m(t,c)):s&&(s.d(1),s=null),u[0]&16&&B(t,"selected",l[4]===l[34])},d(m){m&&D(t),s&&s.d(),f=!1,o()}}}function Me(l){let t,e;return t=new ae({}),{c(){N(t.$$.fragment)},m(n,i){q(t,n,i),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){H(t,n)}}}function Te(l){let t,e,n,i,r,c,f;ne(l[19]);let o=l[0]&&W(l);const s=[je,Se],_=[];function m(u,h){return u[2]===null||u[7]===null||u[7].length===0?0:1}return e=m(l),n=_[e]=s[e](l),{c(){o&&o.c(),t=E(),n.c(),i=pe()},m(u,h){o&&o.m(u,h),C(u,t,h),_[e].m(u,h),C(u,i,h),r=!0,c||(f=S(window,"resize",l[19]),c=!0)},p(u,h){u[0]?o?(o.p(u,h),h[0]&1&&p(o,1)):(o=W(u),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(V(),z(o,1,1,()=>{o=null}),F());let d=e;e=m(u),e===d?_[e].p(u,h):(V(),z(_[d],1,1,()=>{_[d]=null}),F(),n=_[e],n?n.p(u,h):(n=_[e]=s[e](u),n.c()),p(n,1),n.m(i.parentNode,i))},i(u){r||(p(o),p(n),r=!0)},o(u){z(o),z(n),r=!1},d(u){o&&o.d(u),u&&D(t),_[e].d(u),u&&D(i),c=!1,f()}}}function Ve(l,t,e){let n,i,r,c,f,{show_label:o=!0}=t,{label:s}=t,{root:_=""}=t,{root_url:m=null}=t,{value:u=null}=t,{style:h={grid:[2],height:"auto"}}=t;const d=ye();let G=!0,k=u,a=null,v=null;function w(g){switch(g.code){case"Escape":g.preventDefault(),e(4,a=null);break;case"ArrowLeft":g.preventDefault(),e(4,a=i);break;case"ArrowRight":g.preventDefault(),e(4,a=r);break}}let I=[],L;async function re(g){if(typeof g!="number")return;await ze(),I[g].focus();const{left:T,width:ke}=L.getBoundingClientRect(),{left:we,width:ve}=I[g].getBoundingClientRect(),J=we-T+ve/2-ke/2+L.scrollLeft;L.scrollTo({left:J<0?0:J,behavior:"smooth"})}function fe(g){return e(10,f=Ne(g,["grid"]).styles),f+` height: ${g.height}`}let j=0,M=0;function ue(){e(6,M=window.innerHeight)}const _e=()=>e(4,a=null),ce=()=>e(4,a=r);function me(g,T){K[g?"unshift":"push"](()=>{I[T]=g,e(8,I)})}const he=g=>e(4,a=g);function ge(g){K[g?"unshift":"push"](()=>{L=g,e(9,L)})}const be=g=>e(4,a=c?g:a);function de(){j=this.clientHeight,e(5,j)}return l.$$set=g=>{"show_label"in g&&e(0,o=g.show_label),"label"in g&&e(1,s=g.label),"root"in g&&e(14,_=g.root),"root_url"in g&&e(15,m=g.root_url),"value"in g&&e(2,u=g.value),"style"in g&&e(3,h=g.style)},l.$$.update=()=>{l.$$.dirty[0]&65540&&e(16,G=u==null||u.length==0?!0:G),l.$$.dirty[0]&49156&&e(7,n=u===null?null:u.map(g=>Array.isArray(g)?[U(g[0],_,m),g[1]]:[U(g,_,m),null])),l.$$.dirty[0]&196636&&k!==u&&(G?(e(4,a=h.preview?0:null),e(16,G=!1)):e(4,a=a!==null&&u!==null&&a<u.length?a:null),e(17,k=u)),l.$$.dirty[0]&144&&(i=((a??0)+(n?.length??0)-1)%(n?.length??0)),l.$$.dirty[0]&144&&e(12,r=((a??0)+1)%(n?.length??0)),l.$$.dirty[0]&262288&&a!==v&&(e(18,v=a),a!==null&&d("select",{index:a,value:n?.[a][1]})),l.$$.dirty[0]&16&&re(a),l.$$.dirty[0]&96&&e(11,c=M>=j),l.$$.dirty[0]&8&&e(10,f=fe(h))},[o,s,u,h,a,j,M,n,I,L,f,c,r,w,_,m,G,k,v,ue,_e,ce,me,he,ge,be,de]}class Fe extends ee{constructor(t){super(),le(this,t,Ve,Te,te,{show_label:0,label:1,root:14,root_url:15,value:2,style:3},null,[-1,-1])}}function Je(l){let t,e,n,i;const r=[l[0]];let c={};for(let f=0;f<r.length;f+=1)c=Ae(c,r[f]);return t=new Ce({props:c}),n=new Fe({props:{label:l[2],value:l[7],style:l[8],show_label:l[1],root:l[3],root_url:l[4]}}),n.$on("select",l[9]),{c(){N(t.$$.fragment),e=E(),N(n.$$.fragment)},m(f,o){q(t,f,o),C(f,e,o),q(n,f,o),i=!0},p(f,o){const s=o&1?De(r,[Ee(f[0])]):{};t.$set(s);const _={};o&4&&(_.label=f[2]),o&128&&(_.value=f[7]),o&256&&(_.style=f[8]),o&2&&(_.show_label=f[1]),o&8&&(_.root=f[3]),o&16&&(_.root_url=f[4]),n.$set(_)},i(f){i||(p(t.$$.fragment,f),p(n.$$.fragment,f),i=!0)},o(f){z(t.$$.fragment,f),z(n.$$.fragment,f),i=!1},d(f){H(t,f),f&&D(e),H(n,f)}}}function Ke(l){let t,e;return t=new qe({props:{visible:l[6],variant:"solid",padding:!1,elem_id:l[5],disable:typeof l[8].container=="boolean"&&!l[8].container,$$slots:{default:[Je]},$$scope:{ctx:l}}}),{c(){N(t.$$.fragment)},m(n,i){q(t,n,i),e=!0},p(n,[i]){const r={};i&64&&(r.visible=n[6]),i&32&&(r.elem_id=n[5]),i&256&&(r.disable=typeof n[8].container=="boolean"&&!n[8].container),i&1439&&(r.$$scope={dirty:i,ctx:n}),t.$set(r)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){H(t,n)}}}function Oe(l,t,e){let{loading_status:n}=t,{show_label:i}=t,{label:r}=t,{root:c}=t,{root_url:f}=t,{elem_id:o=""}=t,{visible:s=!0}=t,{value:_=null}=t,{style:m={}}=t;function u(h){Ie.call(this,l,h)}return l.$$set=h=>{"loading_status"in h&&e(0,n=h.loading_status),"show_label"in h&&e(1,i=h.show_label),"label"in h&&e(2,r=h.label),"root"in h&&e(3,c=h.root),"root_url"in h&&e(4,f=h.root_url),"elem_id"in h&&e(5,o=h.elem_id),"visible"in h&&e(6,s=h.visible),"value"in h&&e(7,_=h.value),"style"in h&&e(8,m=h.style)},[n,i,r,c,f,o,s,_,m,u]}class Ue extends ee{constructor(t){super(),le(this,t,Oe,Ke,te,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,visible:6,value:7,style:8})}}var ll=Ue;const tl=["static"],nl=l=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{ll as Component,nl as document,tl as modes};
//# sourceMappingURL=index.8ec352c1.js.map
