import{S,i as q,s as C,F as E,H as O,G as N,B as F,O as K,f as z,D as B,I as re,J as V,p as U,E as P,N as fe,q as G,c as v,e as L,m as A,k as R,t as g,n as W,o as h,l as y,x as I,V as ue,b as _e,a as ce,j as be,W as me,X as de,Y as ge,Z as he,ah as ke,v as we,a4 as pe,g as ve,h as Ae}from"./index.84b6e782.js";import{a as ye}from"./Empty.svelte_svelte_type_style_lang.085940ab.js";import{B as x}from"./BlockLabel.765f314e.js";import{E as Fe}from"./Empty.2cdb2d1a.js";/* empty css                                                    */import{F as H}from"./File.217b44eb.js";import{U as Be}from"./Upload.d312589b.js";import{M as ze}from"./ModifyUpload.2aef0bd3.js";import{n as X,b as Ue}from"./ModifyUpload.svelte_svelte_type_style_lang.e946db2d.js";import{U as je}from"./UploadText.599671ad.js";import"./Blocks.c6ed33ec.js";const Ee=t=>{let l=["B","KB","MB","GB","PB"],n=0;for(;t>1024;)t/=1024,n++;let e=l[n];return t.toFixed(1)+" "+e},Y=t=>{var l;return l=t.orig_name||t.name,l.length>30?`${l.substr(0,30)}...`:l},Z=t=>{var l=0;if(Array.isArray(t))for(var n of t)n.size!==void 0&&(l+=n.size);else l=t.size||0;return Ee(l)};function Q(t,l,n){const e=t.slice();return e[4]=l[n],e[6]=n,e}function Te(t){let l;return{c(){l=O("Uploading...")},m(n,e){z(n,l,e)},p:P,d(n){n&&U(l)}}}function Ne(t){let l,n,e,a;return{c(){l=E("a"),n=O("Download"),F(l,"href",e=t[4].data),F(l,"target","_blank"),F(l,"download",a=window.__is_colab__?null:t[4].orig_name||t[4].name),F(l,"class","svelte-19kwogc")},m(s,i){z(s,l,i),B(l,n)},p(s,i){i&1&&e!==(e=s[4].data)&&F(l,"href",e),i&1&&a!==(a=window.__is_colab__?null:s[4].orig_name||s[4].name)&&F(l,"download",a)},d(s){s&&U(l)}}}function $(t){let l,n,e=Y(t[4])+"",a,s,i,f=Z(t[4])+"",o,d,r,b,u,m;function p(_,j){return _[4].data?Ne:Te}let k=p(t),w=k(t);function D(){return t[3](t[4],t[6])}return{c(){l=E("tr"),n=E("td"),a=O(e),s=N(),i=E("td"),o=O(f),d=N(),r=E("td"),w.c(),b=N(),F(n,"class","svelte-19kwogc"),F(i,"class","svelte-19kwogc"),F(r,"class","download svelte-19kwogc"),F(l,"class","file svelte-19kwogc"),K(l,"selectable",t[1])},m(_,j){z(_,l,j),B(l,n),B(n,a),B(l,s),B(l,i),B(i,o),B(l,d),B(l,r),w.m(r,null),B(l,b),u||(m=re(l,"click",D),u=!0)},p(_,j){t=_,j&1&&e!==(e=Y(t[4])+"")&&V(a,e),j&1&&f!==(f=Z(t[4])+"")&&V(o,f),k===(k=p(t))&&w?w.p(t,j):(w.d(1),w=k(t),w&&(w.c(),w.m(r,null))),j&2&&K(l,"selectable",t[1])},d(_){_&&U(l),w.d(),u=!1,m()}}}function De(t){let l,n,e,a=Array.isArray(t[0])?t[0]:[t[0]],s=[];for(let i=0;i<a.length;i+=1)s[i]=$(Q(t,a,i));return{c(){l=E("div"),n=E("table"),e=E("tbody");for(let i=0;i<s.length;i+=1)s[i].c();F(n,"class","file-preview svelte-19kwogc"),F(l,"class","file-preview-holder svelte-19kwogc")},m(i,f){z(i,l,f),B(l,n),B(n,e);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(i,[f]){if(f&7){a=Array.isArray(i[0])?i[0]:[i[0]];let o;for(o=0;o<a.length;o+=1){const d=Q(i,a,o);s[o]?s[o].p(d,f):(s[o]=$(d),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}},i:P,o:P,d(i){i&&U(l),fe(s,i)}}}function Ie(t,l,n){const e=G();let{value:a}=l,{selectable:s=!1}=l;const i=(f,o)=>e("select",{value:f.orig_name||f.name,index:o});return t.$$set=f=>{"value"in f&&n(0,a=f.value),"selectable"in f&&n(1,s=f.selectable)},[a,s,e,i]}class ee extends S{constructor(l){super(),q(this,l,Ie,De,C,{value:0,selectable:1})}}function Me(t){let l,n;return l=new Fe({props:{size:"large",unpadded_box:!0,$$slots:{default:[Pe]},$$scope:{ctx:t}}}),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p(e,a){const s={};a&32&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Oe(t){let l,n;return l=new ee({props:{selectable:t[3],value:t[0]}}),l.$on("select",t[4]),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p(e,a){const s={};a&8&&(s.selectable=e[3]),a&1&&(s.value=e[0]),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Pe(t){let l,n;return l=new H({}),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Se(t){let l,n,e,a,s,i;l=new x({props:{show_label:t[2],float:t[0]===null,Icon:H,label:t[1]||"File"}});const f=[Oe,Me],o=[];function d(r,b){return r[0]?0:1}return e=d(t),a=o[e]=f[e](t),{c(){v(l.$$.fragment),n=N(),a.c(),s=L()},m(r,b){A(l,r,b),z(r,n,b),o[e].m(r,b),z(r,s,b),i=!0},p(r,[b]){const u={};b&4&&(u.show_label=r[2]),b&1&&(u.float=r[0]===null),b&2&&(u.label=r[1]||"File"),l.$set(u);let m=e;e=d(r),e===m?o[e].p(r,b):(R(),g(o[m],1,1,()=>{o[m]=null}),W(),a=o[e],a?a.p(r,b):(a=o[e]=f[e](r),a.c()),h(a,1),a.m(s.parentNode,s))},i(r){i||(h(l.$$.fragment,r),h(a),i=!0)},o(r){g(l.$$.fragment,r),g(a),i=!1},d(r){y(l,r),r&&U(n),o[e].d(r),r&&U(s)}}}function qe(t,l,n){let{value:e=null}=l,{label:a}=l,{show_label:s=!0}=l,{selectable:i=!1}=l;function f(o){I.call(this,t,o)}return t.$$set=o=>{"value"in o&&n(0,e=o.value),"label"in o&&n(1,a=o.label),"show_label"in o&&n(2,s=o.show_label),"selectable"in o&&n(3,i=o.selectable)},[e,a,s,i,f]}class Ce extends S{constructor(l){super(),q(this,l,qe,Se,C,{value:0,label:1,show_label:2,selectable:3})}}function Ge(t){let l,n,e;function a(i){t[12](i)}let s={filetype:t[6],parse_to_data_url:!1,file_count:t[3],$$slots:{default:[Re]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.dragging=t[5]),l=new Be({props:s}),_e.push(()=>ce(l,"dragging",a)),l.$on("load",t[7]),{c(){v(l.$$.fragment)},m(i,f){A(l,i,f),e=!0},p(i,f){const o={};f&64&&(o.filetype=i[6]),f&8&&(o.file_count=i[3]),f&8192&&(o.$$scope={dirty:f,ctx:i}),!n&&f&32&&(n=!0,o.dragging=i[5],be(()=>n=!1)),l.$set(o)},i(i){e||(h(l.$$.fragment,i),e=!0)},o(i){g(l.$$.fragment,i),e=!1},d(i){y(l,i)}}}function Le(t){let l,n,e,a;return l=new ze({props:{absolute:!0}}),l.$on("clear",t[8]),e=new ee({props:{selectable:t[4],value:t[0]}}),e.$on("select",t[11]),{c(){v(l.$$.fragment),n=N(),v(e.$$.fragment)},m(s,i){A(l,s,i),z(s,n,i),A(e,s,i),a=!0},p(s,i){const f={};i&16&&(f.selectable=s[4]),i&1&&(f.value=s[0]),e.$set(f)},i(s){a||(h(l.$$.fragment,s),h(e.$$.fragment,s),a=!0)},o(s){g(l.$$.fragment,s),g(e.$$.fragment,s),a=!1},d(s){y(l,s),s&&U(n),y(e,s)}}}function Re(t){let l;const n=t[10].default,e=me(n,t,t[13],null);return{c(){e&&e.c()},m(a,s){e&&e.m(a,s),l=!0},p(a,s){e&&e.p&&(!l||s&8192)&&de(e,n,a,a[13],l?he(n,a[13],s,null):ge(a[13]),null)},i(a){l||(h(e,a),l=!0)},o(a){g(e,a),l=!1},d(a){e&&e.d(a)}}}function We(t){let l,n,e,a,s,i;l=new x({props:{show_label:t[2],Icon:H,float:t[0]===null,label:t[1]||"File"}});const f=[Le,Ge],o=[];function d(r,b){return r[0]?0:1}return e=d(t),a=o[e]=f[e](t),{c(){v(l.$$.fragment),n=N(),a.c(),s=L()},m(r,b){A(l,r,b),z(r,n,b),o[e].m(r,b),z(r,s,b),i=!0},p(r,[b]){const u={};b&4&&(u.show_label=r[2]),b&1&&(u.float=r[0]===null),b&2&&(u.label=r[1]||"File"),l.$set(u);let m=e;e=d(r),e===m?o[e].p(r,b):(R(),g(o[m],1,1,()=>{o[m]=null}),W(),a=o[e],a?a.p(r,b):(a=o[e]=f[e](r),a.c()),h(a,1),a.m(s.parentNode,s))},i(r){i||(h(l.$$.fragment,r),h(a),i=!0)},o(r){g(l.$$.fragment,r),g(a),i=!1},d(r){y(l,r),r&&U(n),o[e].d(r),r&&U(s)}}}function He(t,l,n){let{$$slots:e={},$$scope:a}=l,{value:s}=l,{label:i}=l,{show_label:f=!0}=l,{file_count:o="single"}=l,{file_types:d=null}=l,{selectable:r=!1}=l;async function b({detail:_}){n(0,s=_),await ue(),m("change",s),m("upload",_)}function u({detail:_}){n(0,s=null),m("change",s),m("clear")}const m=G();let p;d==null?p=null:(d=d.map(_=>_.startsWith(".")?_:_+"/*"),p=d.join(", "));let k=!1;function w(_){I.call(this,t,_)}function D(_){k=_,n(5,k)}return t.$$set=_=>{"value"in _&&n(0,s=_.value),"label"in _&&n(1,i=_.label),"show_label"in _&&n(2,f=_.show_label),"file_count"in _&&n(3,o=_.file_count),"file_types"in _&&n(9,d=_.file_types),"selectable"in _&&n(4,r=_.selectable),"$$scope"in _&&n(13,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&m("drag",k)},[s,i,f,o,r,k,p,b,u,d,e,w,D,a]}class Je extends S{constructor(l){super(),q(this,l,He,We,C,{value:0,label:1,show_label:2,file_count:3,file_types:9,selectable:4})}}function Ke(t){let l,n;return l=new Ce({props:{selectable:t[8],value:t[10],label:t[4],show_label:t[5]}}),l.$on("select",t[21]),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p(e,a){const s={};a&256&&(s.selectable=e[8]),a&1024&&(s.value=e[10]),a&16&&(s.label=e[4]),a&32&&(s.show_label=e[5]),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ve(t){let l,n;return l=new Je({props:{label:t[4],show_label:t[5],value:t[10],file_count:t[6],file_types:t[7],selectable:t[8],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),l.$on("change",t[16]),l.$on("drag",t[17]),l.$on("clear",t[18]),l.$on("upload",t[19]),l.$on("select",t[20]),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p(e,a){const s={};a&16&&(s.label=e[4]),a&32&&(s.show_label=e[5]),a&1024&&(s.value=e[10]),a&64&&(s.file_count=e[6]),a&128&&(s.file_types=e[7]),a&256&&(s.selectable=e[8]),a&8388608&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Xe(t){let l,n;return l=new je({props:{type:"file"}}),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p:P,i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ye(t){let l,n,e,a,s,i;const f=[t[9],{status:t[12]?"generating":t[9]?.status||"complete"}];let o={};for(let u=0;u<f.length;u+=1)o=we(o,f[u]);l=new pe({props:o});const d=[Ve,Ke],r=[];function b(u,m){return u[3]==="dynamic"?0:1}return e=b(t),a=r[e]=d[e](t),{c(){v(l.$$.fragment),n=N(),a.c(),s=L()},m(u,m){A(l,u,m),z(u,n,m),r[e].m(u,m),z(u,s,m),i=!0},p(u,m){const p=m&4608?ve(f,[m&512&&Ae(u[9]),{status:u[12]?"generating":u[9]?.status||"complete"}]):{};l.$set(p);let k=e;e=b(u),e===k?r[e].p(u,m):(R(),g(r[k],1,1,()=>{r[k]=null}),W(),a=r[e],a?a.p(u,m):(a=r[e]=d[e](u),a.c()),h(a,1),a.m(s.parentNode,s))},i(u){i||(h(l.$$.fragment,u),h(a),i=!0)},o(u){g(l.$$.fragment,u),g(a),i=!1},d(u){y(l,u),u&&U(n),r[e].d(u),u&&U(s)}}}function Ze(t){let l,n;return l=new ye({props:{visible:t[2],variant:t[3]==="dynamic"&&t[0]===null?"dashed":"solid",border_mode:t[11]?"focus":"base",padding:!1,elem_id:t[1],$$slots:{default:[Ye]},$$scope:{ctx:t}}}),{c(){v(l.$$.fragment)},m(e,a){A(l,e,a),n=!0},p(e,[a]){const s={};a&4&&(s.visible=e[2]),a&9&&(s.variant=e[3]==="dynamic"&&e[0]===null?"dashed":"solid"),a&2048&&(s.border_mode=e[11]?"focus":"base"),a&2&&(s.elem_id=e[1]),a&8396793&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){n||(h(l.$$.fragment,e),n=!0)},o(e){g(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Qe(t,l,n){let e,{elem_id:a=""}=l,{visible:s=!0}=l,{value:i}=l,f,{mode:o}=l,{root:d}=l,{label:r}=l,{show_label:b}=l,{file_count:u}=l,{file_types:m=["file"]}=l,{root_url:p}=l,{selectable:k=!1}=l,{loading_status:w}=l,D=!1,_=!1;const j=G(),le=({detail:c})=>n(0,i=c),te=({detail:c})=>n(11,D=c);function ne(c){I.call(this,t,c)}function ae(c){I.call(this,t,c)}function se(c){I.call(this,t,c)}function ie(c){I.call(this,t,c)}return t.$$set=c=>{"elem_id"in c&&n(1,a=c.elem_id),"visible"in c&&n(2,s=c.visible),"value"in c&&n(0,i=c.value),"mode"in c&&n(3,o=c.mode),"root"in c&&n(13,d=c.root),"label"in c&&n(4,r=c.label),"show_label"in c&&n(5,b=c.show_label),"file_count"in c&&n(6,u=c.file_count),"file_types"in c&&n(7,m=c.file_types),"root_url"in c&&n(14,p=c.root_url),"selectable"in c&&n(8,k=c.selectable),"loading_status"in c&&n(9,w=c.loading_status)},t.$$.update=()=>{if(t.$$.dirty&24577&&n(10,e=X(i,d,p)),t.$$.dirty&58377&&e!==f){if(n(15,f=e),e===null)j("change"),n(12,_=!1);else if(!(Array.isArray(e)?e:[e]).every(c=>c.blob))n(12,_=!1);else if(o==="dynamic"){let c=(Array.isArray(e)?e:[e]).map(M=>M.blob),oe=e;n(12,_=!0),ke(d,c).then(M=>{oe===e&&(n(12,_=!1),M.error?(Array.isArray(e)?e:[e]).forEach(async(T,J)=>{T.data=await Ue(T.blob)}):((Array.isArray(e)?e:[e]).forEach((T,J)=>{M.files&&(T.orig_name=T.name,T.name=M.files[J],T.is_file=!0)}),n(10,e=X(i,d,p))),j("change"))})}}},[i,a,s,o,r,b,u,m,k,w,e,D,_,d,p,f,le,te,ne,ae,se,ie]}class $e extends S{constructor(l){super(),q(this,l,Qe,Ze,C,{elem_id:1,visible:2,value:0,mode:3,root:13,label:4,show_label:5,file_count:6,file_types:7,root_url:14,selectable:8,loading_status:9})}}var ul=$e;const _l=["static","dynamic"],cl=t=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ orig_name: string; name: string, size: number, data: string, is_file: boolean}"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to file. The URL: {ROOT}file={name} contains the data"},example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{ul as Component,cl as document,_l as modes};
//# sourceMappingURL=index.894ec59c.js.map
