import{S as D,i as I,s as U,A as z,B as o,f as m,D as y,E as N,p as g,e as V,F as k,G as E,O as H,I as w,N as F,C as A,q as ie,aa as ne,ab as se,x as p,b as fe,K as B,a2 as ee,H as oe,J as ce,ac as ue,c as G,m as J,o as C,t as T,l as K,k as re,n as _e}from"./index.84b6e782.js";import{a as de}from"./Empty.svelte_svelte_type_style_lang.085940ab.js";import{B as he}from"./BlockLabel.765f314e.js";/* empty css                                                    */import{n as O}from"./ModifyUpload.svelte_svelte_type_style_lang.e946db2d.js";function me(n){let e,a,t;return{c(){e=z("svg"),a=z("path"),t=z("path"),o(a,"fill","currentColor"),o(a,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),o(t,"fill","currentColor"),o(t,"d","M8 10h16v2H8zm0 6h10v2H8z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),o(e,"aria-hidden","true"),o(e,"role","img"),o(e,"class","iconify iconify--carbon"),o(e,"width","100%"),o(e,"height","100%"),o(e,"preserveAspectRatio","xMidYMid meet"),o(e,"viewBox","0 0 32 32")},m(l,s){m(l,e,s),y(e,a),y(e,t)},p:N,i:N,o:N,d(l){l&&g(e)}}}class ge extends D{constructor(e){super(),I(this,e,null,me,U,{})}}function R(n,e,a){const t=n.slice();return t[17]=e[a],t[19]=a,t}function Y(n,e,a){const t=n.slice();return t[20]=e[a],t[22]=a,t}function Z(n,e,a){const t=n.slice();return t[23]=e[a],t}function j(n){let e,a=n[0],t=[];for(let l=0;l<a.length;l+=1)t[l]=X(R(n,a,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=V()},m(l,s){for(let i=0;i<t.length;i+=1)t[i].m(l,s);m(l,e,s)},p(l,s){if(s&85){a=l[0];let i;for(i=0;i<a.length;i+=1){const f=R(l,a,i);t[i]?t[i].p(f,s):(t[i]=X(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){F(t,l),l&&g(e)}}}function be(n){let e,a,t;return{c(){e=k("img"),B(e.src,a=n[20].data)||o(e,"src",a),o(e,"alt",t=n[20].alt_text)},m(l,s){m(l,e,s)},p(l,s){s&1&&!B(e.src,a=l[20].data)&&o(e,"src",a),s&1&&t!==(t=l[20].alt_text)&&o(e,"alt",t)},d(l){l&&g(e)}}}function ve(n){let e,a,t,l,s,i;return{c(){e=k("video"),a=k("track"),o(a,"kind","captions"),e.controls=!0,B(e.src,t=n[20].data)||o(e,"src",t),o(e,"title",l=n[20].alt_text),o(e,"preload","auto")},m(f,b){m(f,e,b),y(e,a),s||(i=[w(e,"play",n[11]),w(e,"pause",n[12]),w(e,"ended",n[13])],s=!0)},p(f,b){b&1&&!B(e.src,t=f[20].data)&&o(e,"src",t),b&1&&l!==(l=f[20].alt_text)&&o(e,"title",l)},d(f){f&&g(e),s=!1,ee(i)}}}function ke(n){let e,a,t,l,s;return{c(){e=k("audio"),e.controls=!0,o(e,"preload","metadata"),B(e.src,a=n[20].data)||o(e,"src",a),o(e,"title",t=n[20].alt_text)},m(i,f){m(i,e,f),l||(s=[w(e,"play",n[8]),w(e,"pause",n[9]),w(e,"ended",n[10])],l=!0)},p(i,f){f&1&&!B(e.src,a=i[20].data)&&o(e,"src",a),f&1&&t!==(t=i[20].alt_text)&&o(e,"title",t)},d(i){i&&g(e),l=!1,ee(s)}}}function pe(n){let e,a=n[20]+"",t,l,s=n[2]&&n[22]==1&&P(n);return{c(){e=new ue(!1),t=E(),s&&s.c(),l=V(),e.a=t},m(i,f){e.m(a,i,f),m(i,t,f),s&&s.m(i,f),m(i,l,f)},p(i,f){f&1&&a!==(a=i[20]+"")&&e.p(a),i[2]&&i[22]==1?s?s.p(i,f):(s=P(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(i){i&&e.d(),i&&g(t),s&&s.d(i),i&&g(l)}}}function P(n){let e,a=n[2],t=[];for(let l=0;l<a.length;l+=1)t[l]=Q(Z(n,a,l));return{c(){e=k("div");for(let l=0;l<t.length;l+=1)t[l].c();o(e,"class","feedback svelte-a99nd8")},m(l,s){m(l,e,s);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,s){if(s&4){a=l[2];let i;for(i=0;i<a.length;i+=1){const f=Z(l,a,i);t[i]?t[i].p(f,s):(t[i]=Q(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){l&&g(e),F(t,l)}}}function Q(n){let e,a=n[23]+"",t;return{c(){e=k("button"),t=oe(a),o(e,"class","svelte-a99nd8")},m(l,s){m(l,e,s),y(e,t)},p(l,s){s&4&&a!==(a=l[23]+"")&&ce(t,a)},d(l){l&&g(e)}}}function W(n){let e,a,t,l,s,i,f;function b(d,h){if(h&1&&(a=null),h&1&&(t=null),h&1&&(l=null),typeof d[20]=="string")return pe;if(a==null&&(a=!!(d[20]!==null&&d[20].mime_type?.includes("audio"))),a)return ke;if(t==null&&(t=!!(d[20]!==null&&d[20].mime_type?.includes("video"))),t)return ve;if(l==null&&(l=!!(d[20]!==null&&d[20].mime_type?.includes("image"))),l)return be}let _=b(n,-1),r=_&&_(n);function v(){return n[14](n[19],n[22],n[20])}return{c(){e=k("div"),r&&r.c(),s=E(),o(e,"data-testid",n[22]==0?"user":"bot"),o(e,"class","message "+(n[22]==0?"user":"bot")+" svelte-a99nd8"),H(e,"latest",n[19]===n[0].length-1),H(e,"hide",n[20]===null),H(e,"selectable",n[4])},m(d,h){m(d,e,h),r&&r.m(e,null),y(e,s),i||(f=w(e,"click",v),i=!0)},p(d,h){n=d,_===(_=b(n,h))&&r?r.p(n,h):(r&&r.d(1),r=_&&_(n),r&&(r.c(),r.m(e,s))),h&1&&H(e,"latest",n[19]===n[0].length-1),h&1&&H(e,"hide",n[20]===null),h&16&&H(e,"selectable",n[4])},d(d){d&&g(e),r&&r.d(),i=!1,f()}}}function X(n){let e,a=n[17],t=[];for(let l=0;l<a.length;l+=1)t[l]=W(Y(n,a,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=V()},m(l,s){for(let i=0;i<t.length;i+=1)t[i].m(l,s);m(l,e,s)},p(l,s){if(s&85){a=l[17];let i;for(i=0;i<a.length;i+=1){const f=Y(l,a,i);t[i]?t[i].p(f,s):(t[i]=W(f),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){F(t,l),l&&g(e)}}}function x(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="dot-flashing svelte-a99nd8"></div>
				\xA0
				<div class="dot-flashing svelte-a99nd8"></div>
				\xA0
				<div class="dot-flashing svelte-a99nd8"></div>`,o(e,"class","message pending svelte-a99nd8")},m(a,t){m(a,e,t)},d(a){a&&g(e)}}}function we(n){let e,a,t,l=n[0]!==null&&j(n),s=n[1]&&x();return{c(){e=k("div"),a=k("div"),l&&l.c(),t=E(),s&&s.c(),o(a,"class","message-wrap svelte-a99nd8"),o(e,"class","wrap svelte-a99nd8"),A(e,"height",`${n[3].height}px`,!1),A(e,"max-height",`${n[3].height}px`,!1)},m(i,f){m(i,e,f),y(e,a),l&&l.m(a,null),y(a,t),s&&s.m(a,null),n[15](e)},p(i,[f]){i[0]!==null?l?l.p(i,f):(l=j(i),l.c(),l.m(a,t)):l&&(l.d(1),l=null),i[1]?s||(s=x(),s.c(),s.m(a,null)):s&&(s.d(1),s=null),f&8&&A(e,"height",`${i[3].height}px`,!1),f&8&&A(e,"max-height",`${i[3].height}px`,!1)},i:N,o:N,d(i){i&&g(e),l&&l.d(),s&&s.d(),n[15](null)}}}function ye(n,e,a){let{value:t}=e,l=null,{pending_message:s=!1}=e,{feedback:i=null}=e,{style:f={}}=e,{selectable:b=!1}=e,_,r;const v=ie();ne(()=>{r=_&&_.offsetHeight+_.scrollTop>_.scrollHeight-20}),se(()=>{r&&(_.scrollTo(0,_.scrollHeight),_.querySelectorAll("img").forEach(u=>{u.addEventListener("load",()=>{_.scrollTo(0,_.scrollHeight)})}))});function d(u){p.call(this,n,u)}function h(u){p.call(this,n,u)}function q(u){p.call(this,n,u)}function L(u){p.call(this,n,u)}function S(u){p.call(this,n,u)}function c(u){p.call(this,n,u)}const M=(u,te,ae)=>v("select",{index:[u,te],value:ae});function le(u){fe[u?"unshift":"push"](()=>{_=u,a(5,_)})}return n.$$set=u=>{"value"in u&&a(0,t=u.value),"pending_message"in u&&a(1,s=u.pending_message),"feedback"in u&&a(2,i=u.feedback),"style"in u&&a(3,f=u.style),"selectable"in u&&a(4,b=u.selectable)},n.$$.update=()=>{n.$$.dirty&129&&t!==l&&(a(7,l=t),v("change"))},[t,s,i,f,b,_,v,l,d,h,q,L,S,c,M,le]}class He extends D{constructor(e){super(),I(this,e,ye,we,U,{value:0,pending_message:1,feedback:2,style:3,selectable:4})}}function $(n){let e,a;return e=new he({props:{show_label:n[4],Icon:ge,float:!1,label:n[3]||"Chatbot",disable:typeof n[2].container=="boolean"&&!n[2].container}}),{c(){G(e.$$.fragment)},m(t,l){J(e,t,l),a=!0},p(t,l){const s={};l&16&&(s.show_label=t[4]),l&8&&(s.label=t[3]||"Chatbot"),l&4&&(s.disable=typeof t[2].container=="boolean"&&!t[2].container),e.$set(s)},i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){T(e.$$.fragment,t),a=!1},d(t){K(e,t)}}}function Ce(n){let e,a,t,l=n[4]&&$(n);return a=new He({props:{style:n[2],selectable:n[5],value:n[7],pending_message:n[6]?.status==="pending"}}),a.$on("change",n[11]),a.$on("select",n[12]),{c(){l&&l.c(),e=E(),G(a.$$.fragment)},m(s,i){l&&l.m(s,i),m(s,e,i),J(a,s,i),t=!0},p(s,i){s[4]?l?(l.p(s,i),i&16&&C(l,1)):(l=$(s),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(re(),T(l,1,1,()=>{l=null}),_e());const f={};i&4&&(f.style=s[2]),i&32&&(f.selectable=s[5]),i&128&&(f.value=s[7]),i&64&&(f.pending_message=s[6]?.status==="pending"),a.$set(f)},i(s){t||(C(l),C(a.$$.fragment,s),t=!0)},o(s){T(l),T(a.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&g(e),K(a,s)}}}function Be(n){let e,a;return e=new de({props:{elem_id:n[0],visible:n[1],padding:!1,$$slots:{default:[Ce]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},m(t,l){J(e,t,l),a=!0},p(t,[l]){const s={};l&1&&(s.elem_id=t[0]),l&2&&(s.visible=t[1]),l&16636&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){T(e.$$.fragment,t),a=!1},d(t){K(e,t)}}}function Me(n,e,a){let{elem_id:t=""}=e,{visible:l=!0}=e,{value:s=[]}=e,i,{style:f={}}=e,{label:b}=e,{show_label:_=!0}=e,{root:r}=e,{root_url:v}=e,{selectable:d=!1}=e;const h=c=>c.replace('src="/file',`src="${r}file`);let{loading_status:q=void 0}=e;function L(c){p.call(this,n,c)}function S(c){p.call(this,n,c)}return n.$$set=c=>{"elem_id"in c&&a(0,t=c.elem_id),"visible"in c&&a(1,l=c.visible),"value"in c&&a(8,s=c.value),"style"in c&&a(2,f=c.style),"label"in c&&a(3,b=c.label),"show_label"in c&&a(4,_=c.show_label),"root"in c&&a(9,r=c.root),"root_url"in c&&a(10,v=c.root_url),"selectable"in c&&a(5,d=c.selectable),"loading_status"in c&&a(6,q=c.loading_status)},n.$$.update=()=>{n.$$.dirty&1792&&a(7,i=s?s.map(([c,M])=>[typeof c=="string"?h(c):O(c,r,v),typeof M=="string"?h(M):O(M,r,v)]):[])},[t,l,f,b,_,d,q,i,s,r,v,L,S]}class Ne extends D{constructor(e){super(),I(this,e,Me,Be,U,{elem_id:0,visible:1,value:8,style:2,label:3,show_label:4,root:9,root_url:10,selectable:5,loading_status:6})}}var Se=Ne;const ze=["static"],De=n=>({type:{payload:"Array<[string, string]>"},description:{payload:"list of message pairs of"},example_data:n.value?.length?n.value:[["Hi","Hello"],["1 + 1","2"]]});export{Se as Component,De as document,ze as modes};
//# sourceMappingURL=index.4ad34e4a.js.map
