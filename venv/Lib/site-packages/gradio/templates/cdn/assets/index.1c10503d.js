import{S as L,i as Z,s as F,A as q,B as d,f as b,D as v,E as V,p,e as ne,q as oe,aj as J,F as T,H as z,G as M,J as D,N as G,I as S,a2 as ue,O as C,C as A,c as N,m as B,o as w,t as H,l as E,v as _e,a4 as de,g as me,h as ge,k as Y,n as K,x as he}from"./index.be0d597c.js";import{g as be}from"./color.3eb03460.js";import{a as pe}from"./Empty.svelte_svelte_type_style_lang.734cd342.js";import{B as ke}from"./BlockLabel.0ec0eaf2.js";import{E as ve}from"./Empty.1026dd4f.js";/* empty css                                                    */function ye(t){let e,n,l;return{c(){e=q("svg"),n=q("path"),l=q("path"),d(n,"fill","currentColor"),d(n,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),d(l,"fill","currentColor"),d(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),d(e,"aria-hidden","true"),d(e,"role","img"),d(e,"class","iconify iconify--carbon"),d(e,"width","100%"),d(e,"height","100%"),d(e,"preserveAspectRatio","xMidYMid meet"),d(e,"viewBox","0 0 32 32")},m(a,o){b(a,e,o),v(e,n),v(e,l)},p:V,i:V,o:V,d(a){a&&p(e)}}}class se extends L{constructor(e){super(),Z(this,e,null,ye,F,{})}}function P(t,e,n){const l=t.slice();return l[18]=e[n][0],l[24]=e[n][1],l}function Q(t,e,n){const l=t.slice();return l[18]=e[n][0],l[19]=e[n][1],l[21]=n,l}function U(t,e,n){const l=t.slice();return l[19]=e[n][0],l[22]=e[n][1],l[21]=n,l}function we(t){let e,n,l=t[1]&&W(),a=t[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=X(P(t,a,s));return{c(){l&&l.c(),e=M(),n=T("div");for(let s=0;s<o.length;s+=1)o[s].c();d(n,"class","textfield svelte-12e786d"),d(n,"data-testid","highlighted-text:textfield")},m(s,r){l&&l.m(s,r),b(s,e,r),b(s,n,r);for(let i=0;i<o.length;i+=1)o[i].m(n,null)},p(s,r){if(s[1]?l||(l=W(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r&1){a=s[0];let i;for(i=0;i<a.length;i+=1){const _=P(s,a,i);o[i]?o[i].p(_,r):(o[i]=X(_),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=a.length}},d(s){l&&l.d(s),s&&p(e),s&&p(n),G(o,s)}}}function He(t){let e,n,l=t[1]&&$(t),a=t[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=le(Q(t,a,s));return{c(){l&&l.c(),e=M(),n=T("div");for(let s=0;s<o.length;s+=1)o[s].c();d(n,"class","textfield svelte-12e786d")},m(s,r){l&&l.m(s,r),b(s,e,r),b(s,n,r);for(let i=0;i<o.length;i+=1)o[i].m(n,null)},p(s,r){if(s[1]?l?l.p(s,r):(l=$(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r&95){a=s[0];let i;for(i=0;i<a.length;i+=1){const _=Q(s,a,i);o[i]?o[i].p(_,r):(o[i]=le(_),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=a.length}},d(s){l&&l.d(s),s&&p(e),s&&p(n),G(o,s)}}}function W(t){let e;return{c(){e=T("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,d(e,"class","color-legend svelte-12e786d"),d(e,"data-testid","highlighted-text:color-legend")},m(n,l){b(n,e,l)},d(n){n&&p(e)}}}function X(t){let e,n,l=t[18]+"",a,o,s;return{c(){e=T("span"),n=T("span"),a=z(l),o=M(),d(n,"class","text svelte-12e786d"),d(e,"class","textspan score-text svelte-12e786d"),d(e,"style",s="background-color: rgba("+(t[24]<0?"128, 90, 213,"+-t[24]:"239, 68, 60,"+t[24])+")")},m(r,i){b(r,e,i),v(e,n),v(n,a),v(e,o)},p(r,i){i&1&&l!==(l=r[18]+"")&&D(a,l),i&1&&s!==(s="background-color: rgba("+(r[24]<0?"128, 90, 213,"+-r[24]:"239, 68, 60,"+r[24])+")")&&d(e,"style",s)},d(r){r&&p(e)}}}function $(t){let e,n=Object.entries(t[3]),l=[];for(let a=0;a<n.length;a+=1)l[a]=x(U(t,n,a));return{c(){e=T("div");for(let a=0;a<l.length;a+=1)l[a].c();d(e,"class","category-legend svelte-12e786d"),d(e,"data-testid","highlighted-text:category-legend")},m(a,o){b(a,e,o);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(a,o){if(o&392){n=Object.entries(a[3]);let s;for(s=0;s<n.length;s+=1){const r=U(a,n,s);l[s]?l[s].p(r,o):(l[s]=x(r),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(a){a&&p(e),G(l,a)}}}function x(t){let e,n=t[19]+"",l,a,o,s,r;function i(){return t[10](t[19])}function _(){return t[11](t[19])}return{c(){e=T("div"),l=z(n),a=M(),d(e,"class","category-label svelte-12e786d"),d(e,"style",o="background-color:"+t[22].secondary)},m(u,h){b(u,e,h),v(e,l),v(e,a),s||(r=[S(e,"mouseover",i),S(e,"focus",_),S(e,"mouseout",t[12]),S(e,"blur",t[13])],s=!0)},p(u,h){t=u,h&8&&n!==(n=t[19]+"")&&D(l,n),h&8&&o!==(o="background-color:"+t[22].secondary)&&d(e,"style",o)},d(u){u&&p(e),s=!1,ue(r)}}}function ee(t){let e,n,l=t[19]+"",a;return{c(){e=z(`\xA0
					`),n=T("span"),a=z(l),d(n,"class","label svelte-12e786d"),A(n,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].primary,!1)},m(o,s){b(o,e,s),b(o,n,s),v(n,a)},p(o,s){s&1&&l!==(l=o[19]+"")&&D(a,l),s&25&&A(n,"background-color",o[19]===null||o[4]&&o[4]!==o[19]?"":o[3][o[19]].primary,!1)},d(o){o&&p(e),o&&p(n)}}}function le(t){let e,n,l=t[18]+"",a,o,s,r,i,_=!t[1]&&t[19]!==null&&ee(t);function u(){return t[14](t[21],t[18],t[19])}return{c(){e=T("span"),n=T("span"),a=z(l),o=M(),_&&_.c(),s=M(),d(n,"class","text svelte-12e786d"),C(n,"no-label",!t[3][t[19]]),d(e,"class","textspan svelte-12e786d"),C(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),C(e,"hl",t[19]!==null),C(e,"selectable",t[2]),A(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary,!1)},m(h,m){b(h,e,m),v(e,n),v(n,a),v(e,o),_&&_.m(e,null),v(e,s),r||(i=S(e,"click",u),r=!0)},p(h,m){t=h,m&1&&l!==(l=t[18]+"")&&D(a,l),m&9&&C(n,"no-label",!t[3][t[19]]),!t[1]&&t[19]!==null?_?_.p(t,m):(_=ee(t),_.c(),_.m(e,s)):_&&(_.d(1),_=null),m&17&&C(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),m&1&&C(e,"hl",t[19]!==null),m&4&&C(e,"selectable",t[2]),m&25&&A(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary,!1)},d(h){h&&p(e),_&&_.d(),r=!1,i()}}}function Te(t){let e;function n(o,s){return o[5]==="categories"?He:we}let l=n(t),a=l(t);return{c(){a.c(),e=ne()},m(o,s){a.m(o,s),b(o,e,s)},p(o,[s]){l===(l=n(o))&&a?a.p(o,s):(a.d(1),a=l(o),a&&(a.c(),a.m(e.parentNode,e)))},i:V,o:V,d(o){a.d(o),o&&p(e)}}}function je(t,e,n){const l=typeof document<"u";let{value:a=[]}=e,{show_legend:o=!1}=e,{color_map:s={}}=e,{selectable:r=!1}=e,i,_={},u="";function h(g,k){if(!i){var y=document.createElement("canvas");i=y.getContext("2d")}i.fillStyle=g,i.fillRect(0,0,1,1);const[R,fe,ce]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${R}, ${fe}, ${ce}, ${255/k})`}const m=oe();let j;function f(g){n(4,u=g)}function c(){n(4,u="")}const I=g=>f(g),O=g=>f(g),ae=()=>c(),ie=()=>c(),re=(g,k,y)=>{m("select",{index:g,value:[k,y]})};return t.$$set=g=>{"value"in g&&n(0,a=g.value),"show_legend"in g&&n(1,o=g.show_legend),"color_map"in g&&n(9,s=g.color_map),"selectable"in g&&n(2,r=g.selectable)},t.$$.update=()=>{if(t.$$.dirty&513){let g=function(){for(const k in s){const y=s[k].trim();y in J?n(3,_[k]=J[y],_):n(3,_[k]={primary:l?h(s[k],1):s[k],secondary:l?h(s[k],.5):s[k]},_)}};if(s||n(9,s={}),a.length>0){for(let[k,y]of a)if(y!==null)if(typeof y=="string"){if(n(5,j="categories"),!(y in s)){let R=be(Object.keys(s).length);n(9,s[y]=R,s)}}else n(5,j="scores")}g()}},[a,o,r,_,u,j,m,f,c,s,I,O,ae,ie,re]}class Ce extends L{constructor(e){super(),Z(this,e,je,Te,F,{value:0,show_legend:1,color_map:9,selectable:2})}}function te(t){let e,n;return e=new ke({props:{Icon:se,label:t[5],float:!1,disable:typeof t[0].container=="boolean"&&!t[0].container}}),{c(){N(e.$$.fragment)},m(l,a){B(e,l,a),n=!0},p(l,a){const o={};a&32&&(o.label=l[5]),a&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),e.$set(o)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function Me(t){let e,n;return e=new ve({props:{$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(l,a){B(e,l,a),n=!0},p(l,a){const o={};a&4096&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function Ne(t){let e,n;return e=new Ce({props:{selectable:t[6],value:t[3],show_legend:t[4],color_map:t[0].color_map}}),e.$on("select",t[10]),{c(){N(e.$$.fragment)},m(l,a){B(e,l,a),n=!0},p(l,a){const o={};a&64&&(o.selectable=l[6]),a&8&&(o.value=l[3]),a&16&&(o.show_legend=l[4]),a&1&&(o.color_map=l[0].color_map),e.$set(o)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function Be(t){let e,n;return e=new se({}),{c(){N(e.$$.fragment)},m(l,a){B(e,l,a),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function Ee(t){let e,n,l,a,o,s,r;const i=[t[7]];let _={};for(let f=0;f<i.length;f+=1)_=_e(_,i[f]);e=new de({props:_});let u=t[5]&&te(t);const h=[Ne,Me],m=[];function j(f,c){return f[3]?0:1}return a=j(t),o=m[a]=h[a](t),{c(){N(e.$$.fragment),n=M(),u&&u.c(),l=M(),o.c(),s=ne()},m(f,c){B(e,f,c),b(f,n,c),u&&u.m(f,c),b(f,l,c),m[a].m(f,c),b(f,s,c),r=!0},p(f,c){const I=c&128?me(i,[ge(f[7])]):{};e.$set(I),f[5]?u?(u.p(f,c),c&32&&w(u,1)):(u=te(f),u.c(),w(u,1),u.m(l.parentNode,l)):u&&(Y(),H(u,1,1,()=>{u=null}),K());let O=a;a=j(f),a===O?m[a].p(f,c):(Y(),H(m[O],1,1,()=>{m[O]=null}),K(),o=m[a],o?o.p(f,c):(o=m[a]=h[a](f),o.c()),w(o,1),o.m(s.parentNode,s))},i(f){r||(w(e.$$.fragment,f),w(u),w(o),r=!0)},o(f){H(e.$$.fragment,f),H(u),H(o),r=!1},d(f){E(e,f),f&&p(n),u&&u.d(f),f&&p(l),m[a].d(f),f&&p(s)}}}function Oe(t){let e,n;return e=new pe({props:{test_id:"highlighted-text",visible:t[2],elem_id:t[1],padding:!1,disable:typeof t[0].container=="boolean"&&!t[0].container,$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(l,a){B(e,l,a),n=!0},p(l,[a]){const o={};a&4&&(o.visible=l[2]),a&2&&(o.elem_id=l[1]),a&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),a&4345&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function Se(t,e,n){let{elem_id:l=""}=e,{visible:a=!0}=e,{value:o}=e,s,{show_legend:r}=e,{color_map:i={}}=e,{label:_="Highlighted Text"}=e,{style:u={}}=e,{selectable:h=!1}=e,{loading_status:m}=e;const j=oe();function f(c){he.call(this,t,c)}return t.$$set=c=>{"elem_id"in c&&n(1,l=c.elem_id),"visible"in c&&n(2,a=c.visible),"value"in c&&n(3,o=c.value),"show_legend"in c&&n(4,r=c.show_legend),"color_map"in c&&n(8,i=c.color_map),"label"in c&&n(5,_=c.label),"style"in c&&n(0,u=c.style),"selectable"in c&&n(6,h=c.selectable),"loading_status"in c&&n(7,m=c.loading_status)},t.$$.update=()=>{t.$$.dirty&257&&!u.color_map&&Object.keys(i).length&&n(0,u.color_map=i,u),t.$$.dirty&520&&o!==s&&(n(9,s=o),j("change"))},[u,l,a,o,r,_,h,m,i,s,f]}class Ve extends L{constructor(e){super(),Z(this,e,Se,Oe,F,{elem_id:1,visible:2,value:3,show_legend:4,color_map:8,label:5,style:0,selectable:6,loading_status:7})}}var Le=Ve;const Ze=["static"],Fe=t=>({type:{payload:"Array<[string, string | number]>"},description:{payload:"list of text spans and corresponding label / value"}});export{Le as Component,Fe as document,Ze as modes};
//# sourceMappingURL=index.1c10503d.js.map
